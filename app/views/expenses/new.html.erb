<div id="categories" class="b-container bg-light">
  <div class="card text-center">
    <div class="card-header bg-primary bg-gradient">
      <div class="row">
        <div class="col-12 d-flex flex-row justify-content-between align-middle mt-3 pt-3">
          <%= link_to root_path do %>
            <h3 class = "text-light p-1"><i class="fa-solid fa-arrow-left"></i></h3>
          <% end %>
          <h4 class = "text-light p-1">NEW EXPENSE</h4>
          <%= link_to "Next", category_expenses_path, class: "text-light text-decoration-none p-1" %>
        </div>
      </div>
    </div>
    <div class="card-body bg-light">
      <p style="color: green"><%= notice %></p>
      <%= form_with(model: @expense, url: category_expenses_path) do |form| %>
        <% if @expense.errors.any? %>
          <div style="color: red">
            <h2><%= pluralize(@expense.errors.count, "error") %> prohibited this expense from being saved:</h2>

            <ul>
              <% @expense.errors.each do |error| %>
                <li><%= error.full_message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>
        <div class = "mb-3">
          <%= form.label :name, style: "display: block" %>
          <%= form.text_field :name, placeholder: "Enter Expenditure Name", class: "w-100 form-control border-0 border-bottom" %>
        </div>
        <div>
          <%= form.label :amount, style: "display: block" %>
          <%= form.number_field :amount, placeholder: "Enter Expenditure Amount", class: "w-100 form-control border-0 border-bottom" %>
        </div>
        <div>
          <%= form.hidden_field :category_id, value: params[:category_id]%>
        </div>
        <div>
          <%= form.number_field :user_id, id: :expense_user_id, value: current_user.id, type: :hidden %>
        </div>
        <div class = "mb-3 mt-3">
          <%= form.submit class: "btn btn-success bg-gradient w-100"%>
        </div>
      <% end %>
      <%= link_to "Back To Expenses", category_expenses_path, class: "text-decoration-none" %>
    </div>
  </div>
</div>
